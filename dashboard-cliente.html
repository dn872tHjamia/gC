<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zenda - Panel de Cliente</title>
    <link rel="stylesheet" href="style-dash.css">
    <style>
        /* Estilos integrados para cumplir con tus requerimientos de imagen y estados */
        .business-logo { width: 80px; height: 80px; object-fit: cover; border-radius: 8px; background: #eee; }
        .status-confirmada { color: green; }
        .status-cancelada { color: red; }
        .tabs { display: flex; gap: 10px; margin-bottom: 20px; }
        .hidden { display: none; }
    </style>
</head>
<body>
    <header>
        <h1>Zenda Santiago Tuxtla</h1>
        <div id="user-info">
            <span id="clientName">Cargando...</span>
            <button onclick="logout()" style="cursor:pointer">Cerrar Sesión</button>
        </div>
    </header>

    <main>
        <section class="tabs">
            <button class="filter-btn active" onclick="switchSection('explorar')">Explorar Negocios</button>
            <button class="filter-btn" onclick="switchSection('historial')">Mi Historial</button>
        </section>

        <section id="explorarSection">
            <section class="filters">
                <button class="filter-btn" onclick="filtrar('todos')">Todos</button>
                <button class="filter-btn" onclick="filtrar('Barbería')">Barberías</button>
                <button class="filter-btn" onclick="filtrar('Dentista')">Dentistas</button>
            </section>
            <div class="business-grid" id="businessGrid">
                </div>
        </section>

        <section id="historialSection" class="hidden">
            <h2>Mis Citas Agendadas</h2>
            <div id="appointmentsList">
                </div>
        </section>
    </main>

    <div id="calendarModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <div id="businessDetail">
                <div id="modalLogo"></div> <h2 id="modalBusinessName">Nombre</h2>
                <p id="modalCategory"></p>
                <p><strong>Días Laborales:</strong> <span id="modalDays"></span></p>
                <p><strong>Horario:</strong> <span id="modalHours"></span></p>

                <div class="booking-controls">
                    <label>Seleccionar Fecha:</label>
                    <input type="date" id="appointmentDate" onchange="loadSlots()">
                    
                    <h3>Horarios Disponibles</h3>
                    <div id="timeSlots" class="slots-container">
                        </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Lógica de navegación local
        function switchSection(section) {
            document.getElementById('explorarSection').classList.toggle('hidden', section !== 'explorar');
            document.getElementById('historialSection').classList.toggle('hidden', section !== 'historial');
            document.querySelectorAll('.tabs .filter-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
        }

        function logout() {
            localStorage.clear();
            window.location.href = "index.html";
        }

        function closeModal() {
            document.getElementById('calendarModal').style.display = "none";
        }

        // El resto de la lógica de fetch (POST/GET) debe ir en tu cliente.js 
        // conectando a https://gc-10mr.onrender.com
    </script>
</body>
</html>